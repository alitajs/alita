"use strict";(self.webpackChunkalita3=self.webpackChunkalita3||[]).push([[184],{77007:function(j,r,e){e.r(r);var d=e(57213),o=e.n(d),D=e(93236),s=e(62086);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,D.useEffect)(function(){var l;if(window.location.hash.length!==0){var p=decodeURIComponent(window.location.hash);setTimeout(function(){var c;(c=document.getElementById(p.slice(1)))===null||c===void 0||c.scrollIntoView()},100)}else window.scrollTo(0,0);(l=document.getElementById("active-nav-item"))===null||l===void 0||l.scrollIntoView({behavior:"smooth",block:"center"})},[]);var h=n.components||{},a=h.wrapper;return a?(0,s.jsx)(a,o()(o()({},n),{},{children:(0,s.jsx)(i,{})})):i();function i(){var l=Object.assign({h1:"h1",a:"a",span:"span",p:"p",code:"code",h2:"h2",em:"em",div:"div",pre:"pre"},n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.h1,{id:"\u6570\u636E\u5171\u4EABapi",children:[(0,s.jsx)(l.a,{"aria-hidden":"true",tabIndex:"-1",href:"#\u6570\u636E\u5171\u4EABapi",children:(0,s.jsx)(l.span,{className:"icon icon-link"})}),"\u6570\u636E\u5171\u4EABAPI"]}),`
`,(0,s.jsx)(l.p,{children:"\u5728 src/models \u4E0B\u5B58\u5728 useModel \u6587\u4EF6\uFF0C\u6570\u636E\u5171\u4EABAPI\u624D\u53EF\u4EE5\u4F7F\u7528\u3002"}),`
`,(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"plugin-model"})," \u63D2\u4EF6\u662F\u57FA\u4E8E hooks \u8303\u5F0F\u7684\u7B80\u6613\u6570\u636E\u7BA1\u7406\u65B9\u6848\uFF08\u90E8\u5206\u573A\u666F\u53EF\u4EE5\u53D6\u4EE3 dva\uFF09\uFF0C\u901A\u5E38\u7528\u4E8E\u4E2D\u53F0\u9879\u76EE\u7684\u5168\u5C40\u5171\u4EAB\u6570\u636E\u3002"]}),`
`,(0,s.jsxs)(l.h2,{id:"usemodel",children:[(0,s.jsx)(l.a,{"aria-hidden":"true",tabIndex:"-1",href:"#usemodel",children:(0,s.jsx)(l.span,{className:"icon icon-link"})}),"useModel"]}),`
`,(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"useModel"})," \u662F\u4E00\u4E2A Hook\uFF0C\u63D0\u4F9B\u6D88\u8D39 Model \u7684\u80FD\u529B\uFF0C\u6BCF\u4E2A Model \u4E2D\u5305\u542B\u6570\u636E\u548C\u66F4\u65B0\u6570\u636E\u65B9\u6CD5\u3002\u7EA6\u5B9A\u5728 src/models \u76EE\u5F55\u4E0B\u7684\u6587\u4EF6\u4E3A\u9879\u76EE\u5B9A\u4E49\u7684 model \u6587\u4EF6\u3002\u6BCF\u4E2A\u6587\u4EF6\u9700\u8981\u9ED8\u8BA4\u5BFC\u51FA\u4E00\u4E2A function\uFF0C\u8BE5 function \u5B9A\u4E49\u4E86\u4E00\u4E2A Hook\uFF0C\u4E0D\u7B26\u5408\u89C4\u8303\u7684\u6587\u4EF6\u4F1A\u88AB\u8FC7\u6EE4\u6389\u3002"]}),`
`,(0,s.jsx)(l.p,{children:"\u793A\u4F8B\uFF1A"}),`
`,(0,s.jsx)(l.p,{children:(0,s.jsx)(l.em,{children:"src/models/useAuthModel.js"})}),`
`,(0,s.jsx)(l.div,{"data-rehype-pretty-code-fragment":"",children:(0,s.jsx)(l.pre,{"data-language":"ts","data-theme":"default",children:(0,s.jsxs)(l.code,{"data-language":"ts","data-theme":"default",children:[(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"import"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" { "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"useState"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:", "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"useCallback"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" } "}),(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"from"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#CE9178"},children:"'react'"})]}),`
`,(0,s.jsx)(l.span,{className:"line",children:" "}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"export"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"default"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"function"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#DCDCAA"},children:"useAuthModel"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"() {"})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"  "}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"const"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" ["}),(0,s.jsx)(l.span,{style:{color:"#4FC1FF"},children:"user"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:", "}),(0,s.jsx)(l.span,{style:{color:"#4FC1FF"},children:"setUser"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"] = "}),(0,s.jsx)(l.span,{style:{color:"#DCDCAA"},children:"useState"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"("}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"null"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:")"})]}),`
`,(0,s.jsx)(l.span,{className:"line",children:" "}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"  "}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"const"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#4FC1FF"},children:"signin"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" = "}),(0,s.jsx)(l.span,{style:{color:"#DCDCAA"},children:"useCallback"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"(("}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"account"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:", "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"password"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:") "}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"=>"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"    "}),(0,s.jsx)(l.span,{style:{color:"#6A9955"},children:"// signin implementation"})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"    "}),(0,s.jsx)(l.span,{style:{color:"#6A9955"},children:"// setUser(user from signin API)"})]}),`
`,(0,s.jsx)(l.span,{className:"line",children:(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"  }, [])"})}),`
`,(0,s.jsx)(l.span,{className:"line",children:" "}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"  "}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"const"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#4FC1FF"},children:"signout"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" = "}),(0,s.jsx)(l.span,{style:{color:"#DCDCAA"},children:"useCallback"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"(() "}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"=>"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"    "}),(0,s.jsx)(l.span,{style:{color:"#6A9955"},children:"// signout implementation"})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"    "}),(0,s.jsx)(l.span,{style:{color:"#6A9955"},children:"// setUser(null)"})]}),`
`,(0,s.jsx)(l.span,{className:"line",children:(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"  }, [])"})}),`
`,(0,s.jsx)(l.span,{className:"line",children:" "}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"  "}),(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"return"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"    "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"user"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:","})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"    "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"signin"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:","})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"    "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"signout"})]}),`
`,(0,s.jsx)(l.span,{className:"line",children:(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"  }"})}),`
`,(0,s.jsx)(l.span,{className:"line",children:(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"}"})})]})})}),`
`,(0,s.jsxs)(l.p,{children:["\u4EE5\u4E0A\u5C31\u662F\u4E00\u4E2A\u666E\u901A\u7684\u81EA\u5B9A\u4E49 hook\uFF0C\u6BCF\u6B21\u5728\u7EC4\u4EF6\u4E2D\u6267\u884C",(0,s.jsx)(l.code,{children:"const {user} = useAuthModel()"})," \u6240\u83B7\u53D6\u5230\u7684 ",(0,s.jsx)(l.code,{children:"user"})," \u90FD\u662F\u4E0D\u4E00\u6837\u7684\u3002 \u800C",(0,s.jsx)(l.code,{children:"plugin-model"})," \u628A\u5176\u4E2D\u7684",(0,s.jsx)(l.code,{children:"user"}),"\u53D8\u6210\u4E86\u300E\u5168\u5C40\u6570\u636E\u300F\uFF0C\u591A\u4E2A\u7EC4\u4EF6\u4E2D\u4F7F\u7528\u8BE5 model \u65F6\uFF0C\u62FF\u5230\u7684\u540C\u4E00\u4EFD\u6570\u636E\u3002"]}),`
`,(0,s.jsx)(l.div,{"data-rehype-pretty-code-fragment":"",children:(0,s.jsx)(l.pre,{"data-language":"ts","data-theme":"default",children:(0,s.jsxs)(l.code,{"data-language":"ts","data-theme":"default",children:[(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"import"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"React"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"from"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#CE9178"},children:"'react'"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"import"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" { "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"useModel"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" } "}),(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"from"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#CE9178"},children:"'alita'"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"import"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"type"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" { "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"FC"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" } "}),(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"from"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#CE9178"},children:"'react'"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:";"})]}),`
`,(0,s.jsx)(l.span,{className:"line",children:" "}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"const"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#DCDCAA"},children:"Home"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:": "}),(0,s.jsx)(l.span,{style:{color:"#4EC9B0"},children:"FC"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" = () "}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"=>"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" {"})]}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"  "}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"const"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" { "}),(0,s.jsx)(l.span,{style:{color:"#4FC1FF"},children:"user"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:", "}),(0,s.jsx)(l.span,{style:{color:"#4FC1FF"},children:"signin"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" } = "}),(0,s.jsx)(l.span,{style:{color:"#DCDCAA"},children:"useModel"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"("}),(0,s.jsx)(l.span,{style:{color:"#CE9178"},children:"'user'"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:", "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"model"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#569CD6"},children:"=>"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" ({ "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"user:"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"model"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"."}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"user"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:", "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"signin:"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"model"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"."}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"signin"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" }));"})]}),`
`,(0,s.jsx)(l.span,{className:"line",children:" "}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"  "}),(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"return"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" <"}),(0,s.jsx)(l.span,{style:{color:"#4EC9B0"},children:"div"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:">"}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"Home"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"</"}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"div"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:">"})]}),`
`,(0,s.jsx)(l.span,{className:"line",children:(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:"}"})}),`
`,(0,s.jsx)(l.span,{className:"line",children:" "}),`
`,(0,s.jsxs)(l.span,{className:"line",children:[(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"export"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#C586C0"},children:"default"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:" "}),(0,s.jsx)(l.span,{style:{color:"#9CDCFE"},children:"Home"}),(0,s.jsx)(l.span,{style:{color:"#D4D4D4"},children:";"})]})]})})}),`
`,(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"useModel"})," \u6709\u4E24\u4E2A\u53C2\u6570\uFF0C",(0,s.jsx)(l.code,{children:"namespace"})," \u548C ",(0,s.jsx)(l.code,{children:"updater"}),"\u3002"]}),`
`,(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"namespace"})," - \u5C31\u662F hooks model \u6587\u4EF6\u7684\u6587\u4EF6\u540D\uFF0C\u5982\u4E0A\u9762\u4F8B\u5B50\u91CC\u7684 ",(0,s.jsx)(l.code,{children:"useAuthModel"}),"\uFF1B"]}),`
`,(0,s.jsxs)(l.p,{children:[(0,s.jsx)(l.code,{children:"updater"})," - \u53EF\u9009\u53C2\u6570\u3002\u5728 hooks model \u8FD4\u56DE\u591A\u4E2A\u72B6\u6001\uFF0C\u4F46\u4F7F\u7528\u7EC4\u4EF6\u4EC5\u5F15\u7528\u4E86\u5176\u4E2D\u90E8\u5206\u72B6\u6001\uFF0C\u5E76\u4E14\u5E0C\u671B\u4EC5\u5728\u8FD9\u51E0\u4E2A\u72B6\u6001\u66F4\u65B0\u65F6 ",(0,s.jsx)(l.code,{children:"rerender"})," \u65F6\u4F7F\u7528\uFF08\u6027\u80FD\u76F8\u5173\uFF09\u3002"]})]})}}r.default=t}}]);
